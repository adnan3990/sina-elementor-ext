!function(i){"use strict";var a,c;c={},i.fn.jParticle=function(n){return this.each(function(e,t){"object"==typeof t.sandbox&&i(t).removeJParticle(),t.sandbox=a(t,n)}),this},i.fn.removeJParticle=function(){return this.each(function(e,t){t.sandbox&&(t.sandbox.remove(),delete t.sandbox)}),this},i.fn.freezeJParticle=function(){return this.each(function(e,t){t.sandbox&&t.sandbox.freeze()}),this},i.fn.unfreezeJParticle=function(){return this.each(function(e,t){t.sandbox&&t.sandbox.unfreeze()}),this},a=function(e,t){var s,n;return s={canvas:{},mouse:{},particles:[],isAnimated:!1,initialize:function(e,t){s.initParams(t),s.initHTML(e),s.initParticles(),s.initEvents(),s.initAnimation()},initParams:function(e){e&&e.color&&(!e.particle||e.particle&&!e.particle.color)&&(e.particle||(e.particle={}),e.particle.color=e.color),s.params=i.extend({particlesNumber:100,linkDist:100,createLinkDist:150,disableLinks:!1,disableMouse:!1,background:"transparent",color:"#ddd",width:null,height:null,linksWidth:1,minSize:2,maxSize:40,speed:50},e)},initHTML:function(e){var t;(t=s.canvas).container=i(e),t.element=i("<canvas/>"),t.context=t.element.get(0).getContext("2d"),t.container.append(t.element),t.element.css("display","block"),t.element.get(0).width=s.params.width?s.params.width:t.container.width(),t.element.get(0).height=s.params.height?s.params.height:t.container.height(),t.element.css("background",s.params.background)},resize:function(e,t){e&&(canvas.element.get(0).width=e),t&&(canvas.element.get(0).height=t)},initParticles:function(){var e,t;for(e=0,t=s.params.particlesNumber;e<t;e+=1)s.particles.push(n(s.canvas.element.get(0),s.params.particle))},initEvents:function(){s.canvas.element.mouseenter(function(){s.mouse.hoverCanvas=!0,s.isAnimated||s.draw()}),s.canvas.element.mouseleave(function(){s.mouse.hoverCanvas=!1}),s.canvas.element.mousemove(function(e){s.mouse=i.extend(s.mouse,c.getMousePosition(e,s.canvas.element[0]))})},initAnimation:function(){window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.ORequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeOut(e,1e3/60)},s.isAnimated=!0,s.draw()},draw:function(){var e,t,n,i,a,o;for(e=0,n=s.particles.length,(i=s.canvas).context.clearRect(0,0,i.element.get(0).width,i.element.get(0).height);e<n;e+=1)if(a=s.particles[e],s.isAnimated&&a.update(),a.draw(),!s.params.disableMouse&&s.mouse.hoverCanvas&&s.drawLink(a.getPosition("x"),a.getPosition("y"),s.mouse.x,s.mouse.y),!s.params.disableLinks)for(t=e+1;t<n;t+=1)o=s.particles[t],s.drawLink(a.getPosition("x"),a.getPosition("y"),o.getPosition("x"),o.getPosition("y"));s.requestID=window.requestAnimFrame(s.draw)},drawLink:function(e,t,n,i){var a;c.getDistance(e,t,n,i)<=s.params.createLinkDist&&((a=s.canvas.context).save(),a.beginPath(),a.lineWidth=s.params.linksWidth,a.moveTo(e,t),a.lineTo(n,i),a.globalAlpha=s.getOpacityLink(e,t,n,i),a.strokeStyle=s.params.color,a.lineCap="round",a.stroke(),a.closePath(),a.restore())},getOpacityLink:function(e,t,n,i){var a,o,r;return a=c.getDistance(e,t,n,i),o=s.params.linkDist,r=s.params.createLinkDist,a<=o?1:r<a?0:1-100*(a-o)/(r-o)/100},freeze:function(){s.isAnimated&&(s.isAnimated=!1)},unfreeze:function(){s.isAnimated||(s.isAnimated=!0)},remove:function(){s.canvas.element.remove()}},n=function(e,t){var n;return(n={canvas:{},vector:{},initialize:function(e,t){n.setCanvasContext(e),n.initSize(),n.initPosition(),n.initVectors()},initPosition:function(){n.x=c.getRandNumber(0+n.radius,n.canvas.element.width-n.radius),n.y=c.getRandNumber(0+n.radius,n.canvas.element.height-n.radius)},initSize:function(){n.size=c.getRandNumber(s.params.minSize,s.params.maxSize),n.radius=n.size/2},initVectors:function(){for(;n.vector.x=c.getRandNumber(-s.params.speed/60,s.params.speed/60,!1),n.vector.y=c.getRandNumber(-s.params.speed/60,s.params.speed/60,!1),0==n.vector.x||0==n.vector.y;);},setCanvasContext:function(e){var t;if("object"!=typeof(t=(n.canvas.element=e).getContext("2d"))||"object"!=typeof t.canvas)throw"Error: Can't set canvas context to Particle because context isn't a CanvasRenderingContext2D object.";n.canvas.context=t},draw:function(){var e=n.canvas.context;e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.fillStyle=s.params.color,e.fill(),e.closePath()},update:function(){n.x+=n.vector.x,n.y+=n.vector.y,(n.x-n.radius<0||n.x+n.radius>n.canvas.element.width)&&(n.vector.x=-n.vector.x),(n.y-n.radius<0||n.y+n.radius>n.canvas.element.height)&&(n.vector.y=-n.vector.y)},getPosition:function(e){return"string"==typeof e&&"x"!=e&&"y"!=e&&(e=null),"string"==typeof e?n[e]:{x:n.x,y:n.y}}}).initialize(e,t),{getPosition:n.getPosition,update:n.update,draw:n.draw}},s.initialize(e,t),{remove:s.remove,freeze:s.freeze,unfreeze:s.unfreeze,resize:s.resize}},c.getRandNumber=function(e,t,n){var i;return null==e&&(e=0),null==t&&(t=10),null==n&&(n=!0),i=Math.random()*(t-e)+e,n?Math.round(i):i},c.getDistance=function(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))},c.getMousePosition=function(e,t){var n;return void 0===t&&(t=i("body")[0]),n=t.getBoundingClientRect(),{x:e.clientX-n.left,y:e.clientY-n.top}}}(jQuery);